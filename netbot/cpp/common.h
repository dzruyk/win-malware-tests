#ifndef __COMMON_H__
#define __COMMON_H__

#ifndef NULL
#define NULL (void *)0
#endif


#define assert(cond) do { \
	if (!(cond)) { \
		fprintf(stderr, "assertion '%s' failed\n", #cond); \
	exit(1);\
	}\
} while(0)

#define ARRSZ(a) (sizeof(a)/sizeof(a[0]))

#define print_warn_and_die(fmt, arg...) \
do { \
        fprintf(stderr, "%s %d %s warning:"fmt, \
                        __FILE__, \
                        __LINE__, \
                        __FUNCTION__, \
                        ##arg); \
        exit(1); \
} while (0)

typedef enum {
	false = 0,
	true = 1,
} bool;

void * xmalloc(size_t sz);
void * xrealloc(void *ptr, size_t sz);

#endif
