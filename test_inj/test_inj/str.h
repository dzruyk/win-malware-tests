#pragma once

/* 
 * Maximum number of bytes, that can be allocated by
 * str_sprintf_ex.
 */
#define SPRINTF_EX_MAX_SZ 4096

int str_consume(wchar_t *str);

/* 
 * concantenate dst and src strings
 * WARN: be care, function without check dst size
 */
bool str_cat(wchar_t *dst, const wchar_t *src);

/*
 * concatenate *dst and src strings
 * allocate enought memory via xrealloc
 */
bool str_cat_ex(wchar_t **dst, const wchar_t *src);

/*
 * sprintf copy
 */
int str_sprintf(wchar_t *str, wchar_t *fmt, ...);
/*
 * sprintf analog, but allocates memory for string
 * via xrealloc call
 */
bool str_sprintf_ex(wchar_t **str, wchar_t *fmt, ...);

wchar_t *str_ncpy(wchar_t *dst, const wchar_t *src, int sz);

int str_len(const wchar_t *str);
